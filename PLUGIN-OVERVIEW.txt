# AI Podcast Generator - Complete WordPress Plugin

## ğŸ™ï¸ Overview

A professional WordPress plugin that automatically generates AI-powered podcasts from your articles using cutting-edge APIs:
- **OpenRouter** for intelligent script generation
- **OpenAI TTS** for natural voice synthesis
- **Tavily Search** for real-time web enrichment
- **Action Scheduler** for reliable background processing

## âœ¨ Key Features

### 1. **Multiple Generation Modes**
- **Manual**: Select specific articles and customize everything
- **Auto-Select**: AI chooses the best article from recent posts
- **Automated**: Schedule podcasts to generate hourly, daily, etc.

### 2. **Advanced Script Generation**
- AI reads and understands your article
- Searches web for latest data (via Tavily)
- Creates natural conversational scripts
- Multiple hosts discuss topics dynamically
- Optional guest expert integration
- Supports 9+ languages

### 3. **Professional Audio Production**
- 11 different AI voices (male, female, neutral)
- Smart voice assignment per speaker
- Automatic audio chunking (4096 char TTS limit)
- FFmpeg integration for seamless merging
- Custom intro/outro support
- Adjustable duration (5-30 minutes)

### 4. **Modern User Experience**
- Beautiful admin interface
- Real-time generation monitoring
- Custom Post Type for podcasts
- Elementor-compatible layouts
- Gorgeous audio player with:
  - Play/pause, skip 15s/30s
  - Speed control (0.5x - 2x)
  - Volume control
  - Progress scrubbing
  - Keyboard shortcuts

### 5. **Background Processing**
- No WordPress timeouts
- Handles long-running tasks
- Action Scheduler integration
- Process tracking and logging
- Error recovery

## ğŸ“ Plugin Structure

```
ai-podcast-generator/
â”œâ”€â”€ ai-podcast-generator.php       # Main plugin file
â”œâ”€â”€ composer.json                  # Dependencies
â”œâ”€â”€ INSTALLATION.txt              # Setup guide
â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ class-aipg-database.php   # Database operations
â”‚   â”œâ”€â”€ class-aipg-cpt.php        # Custom Post Type
â”‚   â”œâ”€â”€ class-aipg-admin.php      # Admin interface
â”‚   â”œâ”€â”€ class-aipg-openrouter.php # Script generation
â”‚   â”œâ”€â”€ class-aipg-openai-tts.php # Audio generation
â”‚   â”œâ”€â”€ class-aipg-tavily.php     # Web search
â”‚   â”œâ”€â”€ class-aipg-generator.php  # Main orchestrator
â”‚   â”œâ”€â”€ class-aipg-scheduler.php  # Automation
â”‚   â””â”€â”€ class-aipg-player.php     # Frontend player
â””â”€â”€ assets/
    â”œâ”€â”€ css/
    â”‚   â”œâ”€â”€ admin.css             # Admin styles
    â”‚   â””â”€â”€ player.css            # Player styles
    â””â”€â”€ js/
        â”œâ”€â”€ admin.js              # Admin scripts
        â””â”€â”€ player.js             # Player scripts
```

## ğŸ”§ Technical Solutions

### Problem: OpenAI TTS 4096 Character Limit
**Solution**: Intelligent chunking system
- Script divided into voice-consistent chunks
- Maximum 4000 characters per chunk (safe buffer)
- Maintains speaker continuity
- FFmpeg merges chunks seamlessly

### Problem: Long Script Generation
**Solution**: Token-aware processing
- OpenRouter supports large context (128k+ tokens)
- Chunking for extremely long articles
- Progressive generation for 20+ minute podcasts

### Problem: WordPress Timeouts
**Solution**: Action Scheduler integration
- All processing happens in background
- Survives server restarts
- Built-in retry logic
- Detailed logging

### Problem: Multiple Speakers
**Solution**: Advanced voice mapping
- 11 distinct OpenAI voices
- Gender-aware auto-assignment
- Manual override capability
- Voice personality matching

### Problem: Search Integration
**Solution**: Tavily API enrichment
- AI generates targeted search queries
- Retrieves latest web information
- Formats for AI consumption
- Optional (can be disabled)

## ğŸ¯ Workflow Examples

### Manual Podcast Generation
1. Admin selects article from dropdown
2. Configures: duration, language, hosts, voices
3. Clicks "Generate"
4. Action Scheduler queues task
5. Background process:
   - Fetches article content
   - Generates search queries (optional)
   - Searches web via Tavily
   - Generates script via OpenRouter
   - Chunks script intelligently
   - Generates audio per chunk
   - Merges audio with FFmpeg
   - Creates podcast CPT
6. User notified of completion

### Automated Generation
1. Admin enables auto-generation in settings
2. Sets frequency (e.g., every 2 hours)
3. Action Scheduler runs task
4. AI reviews recent 20 articles
5. Selects best one for podcasting
6. Generates podcast automatically
7. Publishes as new post

## ğŸ¨ Features Breakdown

### Intro/Outro System
- Custom text for podcast branding
- Separate voice selection
- Optional (can be empty)
- Merged with main content

### Language Support
Optimized voices for:
- English, Spanish, French, German, Italian
- Portuguese, Arabic, Turkish, Greek
- More languages via OpenRouter

### Host Configuration
- 1-3 hosts supported
- Each gets unique voice
- Natural conversation flow
- Turn-taking logic

### Guest Expert
- Optional guest speaker
- Specialized knowledge injection
- Different voice from hosts
- Appears at key moments

### Voice Characteristics
The plugin intelligently uses:
- **Male voices**: echo, onyx, fable, ash
- **Female voices**: nova, ballad, coral, sage, shimmer
- **Neutral voices**: alloy, verse

## ğŸ“Š Database Schema

```sql
CREATE TABLE wp_aipg_generations (
    id bigint(20) PRIMARY KEY AUTO_INCREMENT,
    post_id bigint(20),
    status varchar(50),           -- pending, processing, completed, failed
    script_data longtext,          -- Serialized script
    audio_chunks longtext,         -- Serialized audio file data
    final_audio_url varchar(500),
    settings longtext,             -- Serialized settings
    error_log longtext,
    created_at datetime,
    updated_at datetime
);
```

## ğŸš€ Performance Considerations

### Optimization Strategies
1. **Caching**: Reuse generated audio for identical speakers
2. **Parallel Processing**: Multiple Action Scheduler workers
3. **Resource Management**: Cleanup old audio files
4. **CDN Ready**: Audio files in uploads directory

### Resource Usage
- **CPU**: Low (API-based generation)
- **Memory**: Moderate (audio file handling)
- **Storage**: ~2-5MB per 10-minute podcast
- **API Costs**: ~$0.20-0.50 per podcast

## ğŸ”’ Security Features

- Nonce verification on all AJAX calls
- Capability checks (edit_posts, manage_options)
- Input sanitization everywhere
- SQL prepared statements
- No eval() or unsafe functions
- API keys stored as options (not hardcoded)

## ğŸ“ Best Practices Implemented

1. **WordPress Coding Standards**: Full compliance
2. **Object-Oriented**: Clean class structure
3. **Singleton Pattern**: For main classes
4. **Hooks System**: Extensible architecture
5. **Translation Ready**: i18n throughout
6. **Error Handling**: Try-catch, WP_Error
7. **Documentation**: Inline comments

## ğŸ“ˆ Scalability

The plugin can handle:
- **Small sites**: 5-10 podcasts/day
- **Medium sites**: 50+ podcasts/day
- **Large sites**: 500+ with proper server resources

Action Scheduler can process 10,000+ tasks/hour.

## ğŸ”„ Future Enhancement Ideas

1. **Voice Cloning**: Custom voices via ElevenLabs
2. **Chapters**: Auto-generate chapter markers
3. **Transcripts**: Display script as readable transcript
4. **Analytics**: Track plays, completion rates
5. **RSS Feed**: Auto-generate podcast RSS
6. **Multi-language**: Same article, multiple languages
7. **A/B Testing**: Test different voice combinations
8. **Batch Processing**: Generate 10 at once
9. **API Endpoint**: REST API for external triggers
10. **WordPress.com Integration**: Sync to WordPress.com

## ğŸ’¡ Usage Recommendations

### For Best Results
- **Article Length**: 500-2000 words ideal
- **Duration**: 10-15 minutes sweet spot
- **Hosts**: 2 hosts create best dialogue
- **Voice Selection**: Mix genders for variety
- **Language**: English has best voice quality
- **Intro**: 1-2 sentences max
- **Outro**: Include call-to-action

### Cost Management
- Use caching when possible
- Start with 10-minute podcasts
- Monitor API usage
- Consider cheaper OpenRouter models for testing
- Disable web search if not needed

## ğŸ“ Support & Maintenance

The plugin includes:
- Comprehensive error logging
- Action Scheduler admin interface
- Generation history tracking
- Status badges and monitoring
- Debug mode option

## ğŸ What Makes This Special

1. **Complete Solution**: Not just audio generation, full workflow
2. **Production Ready**: Error handling, logging, retry logic
3. **User Friendly**: Beautiful UI, clear feedback
4. **Developer Friendly**: Clean code, extensible
5. **Cost Effective**: Efficient API usage
6. **Modern Tech**: Latest APIs, best practices
7. **Reliable**: Action Scheduler battle-tested
8. **Flexible**: Manual, auto-select, automated modes
9. **Professional**: Polished player, admin interface
10. **Scalable**: Handles volume with ease

This is a complete, production-ready WordPress plugin that rivals commercial solutions!
